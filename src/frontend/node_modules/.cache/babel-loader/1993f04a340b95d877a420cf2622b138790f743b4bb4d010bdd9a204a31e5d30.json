{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"text-subtitle-2 mb-2\"\n};\nvar _hoisted_2 = {\n  \"class\": \"text-subtitle-2 mb-4\"\n};\nvar _hoisted_3 = {\n  \"class\": \"text-body-1 white-space-pre-wrap\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_v_spacer = _resolveComponent(\"v-spacer\");\n  var _component_v_chip = _resolveComponent(\"v-chip\");\n  var _component_v_icon = _resolveComponent(\"v-icon\");\n  var _component_v_btn = _resolveComponent(\"v-btn\");\n  var _component_v_card_title = _resolveComponent(\"v-card-title\");\n  var _component_v_card_text = _resolveComponent(\"v-card-text\");\n  var _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  var _component_v_card = _resolveComponent(\"v-card\");\n  var _component_v_col = _resolveComponent(\"v-col\");\n  var _component_v_row = _resolveComponent(\"v-row\");\n  var _component_v_text_field = _resolveComponent(\"v-text-field\");\n  var _component_v_textarea = _resolveComponent(\"v-textarea\");\n  var _component_v_select = _resolveComponent(\"v-select\");\n  var _component_v_container = _resolveComponent(\"v-container\");\n  var _component_v_dialog = _resolveComponent(\"v-dialog\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_v_row, null, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_v_col, {\n            cols: \"12\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_v_card, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_v_card_title, {\n                    \"class\": \"text-h5\"\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return [_createTextVNode(_toDisplayString($setup.memo.title) + \" \", 1 /* TEXT */), _createVNode(_component_v_spacer), _createVNode(_component_v_chip, {\n                        color: $setup.getCategoryColor($setup.memo.category),\n                        \"text-color\": \"white\",\n                        \"class\": \"mr-2\"\n                      }, {\n                        \"default\": _withCtx(function () {\n                          return [_createTextVNode(_toDisplayString($setup.memo.category), 1 /* TEXT */)];\n                        }),\n                        _: 1 /* STABLE */\n                      }, 8 /* PROPS */, [\"color\"]), _createVNode(_component_v_btn, {\n                        icon: \"\",\n                        onClick: $setup.editMemo\n                      }, {\n                        \"default\": _withCtx(function () {\n                          return [_createVNode(_component_v_icon, null, {\n                            \"default\": _withCtx(function () {\n                              return _cache[5] || (_cache[5] = [_createTextVNode(\"mdi-pencil\")]);\n                            }),\n                            _: 1 /* STABLE */,\n                            __: [5]\n                          })];\n                        }),\n                        _: 1 /* STABLE */\n                      }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n                        icon: \"\",\n                        onClick: $setup.deleteMemo\n                      }, {\n                        \"default\": _withCtx(function () {\n                          return [_createVNode(_component_v_icon, null, {\n                            \"default\": _withCtx(function () {\n                              return _cache[6] || (_cache[6] = [_createTextVNode(\"mdi-delete\")]);\n                            }),\n                            _: 1 /* STABLE */,\n                            __: [6]\n                          })];\n                        }),\n                        _: 1 /* STABLE */\n                      }, 8 /* PROPS */, [\"onClick\"])];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_v_card_text, null, {\n                    \"default\": _withCtx(function () {\n                      return [_createElementVNode(\"div\", _hoisted_1, \" 作成日: \" + _toDisplayString($setup.formatDate($setup.memo.createdAt)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_2, \" 更新日: \" + _toDisplayString($setup.formatDate($setup.memo.updatedAt)), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, _toDisplayString($setup.memo.content), 1 /* TEXT */)];\n                    }),\n                    _: 1 /* STABLE */\n                  }), _createVNode(_component_v_card_actions, null, {\n                    \"default\": _withCtx(function () {\n                      return [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n                        color: \"primary\",\n                        text: \"\",\n                        onClick: _cache[0] || (_cache[0] = function ($event) {\n                          return _ctx.$router.push('/memos');\n                        })\n                      }, {\n                        \"default\": _withCtx(function () {\n                          return _cache[7] || (_cache[7] = [_createTextVNode(\" 一覧に戻る \")]);\n                        }),\n                        _: 1 /* STABLE */,\n                        __: [7]\n                      })];\n                    }),\n                    _: 1 /* STABLE */\n                  })];\n                }),\n                _: 1 /* STABLE */\n              })];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_dialog, {\n        modelValue: $setup.dialog,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = function ($event) {\n          return $setup.dialog = $event;\n        }),\n        \"max-width\": \"500px\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_v_card, null, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_v_card_title, null, {\n                \"default\": _withCtx(function () {\n                  return _cache[8] || (_cache[8] = [_createElementVNode(\"span\", {\n                    \"class\": \"text-h5\"\n                  }, \"メモ編集\", -1 /* HOISTED */)]);\n                }),\n                _: 1 /* STABLE */,\n                __: [8]\n              }), _createVNode(_component_v_card_text, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_v_container, null, {\n                    \"default\": _withCtx(function () {\n                      return [_createVNode(_component_v_row, null, {\n                        \"default\": _withCtx(function () {\n                          return [_createVNode(_component_v_col, {\n                            cols: \"12\"\n                          }, {\n                            \"default\": _withCtx(function () {\n                              return [_createVNode(_component_v_text_field, {\n                                modelValue: $setup.editedItem.title,\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n                                  return $setup.editedItem.title = $event;\n                                }),\n                                label: \"タイトル\"\n                              }, null, 8 /* PROPS */, [\"modelValue\"])];\n                            }),\n                            _: 1 /* STABLE */\n                          }), _createVNode(_component_v_col, {\n                            cols: \"12\"\n                          }, {\n                            \"default\": _withCtx(function () {\n                              return [_createVNode(_component_v_textarea, {\n                                modelValue: $setup.editedItem.content,\n                                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n                                  return $setup.editedItem.content = $event;\n                                }),\n                                label: \"内容\"\n                              }, null, 8 /* PROPS */, [\"modelValue\"])];\n                            }),\n                            _: 1 /* STABLE */\n                          }), _createVNode(_component_v_col, {\n                            cols: \"12\"\n                          }, {\n                            \"default\": _withCtx(function () {\n                              return [_createVNode(_component_v_select, {\n                                modelValue: $setup.editedItem.category,\n                                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n                                  return $setup.editedItem.category = $event;\n                                }),\n                                items: $setup.categories,\n                                label: \"カテゴリー\"\n                              }, null, 8 /* PROPS */, [\"modelValue\", \"items\"])];\n                            }),\n                            _: 1 /* STABLE */\n                          })];\n                        }),\n                        _: 1 /* STABLE */\n                      })];\n                    }),\n                    _: 1 /* STABLE */\n                  })];\n                }),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_v_card_actions, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n                    color: \"blue darken-1\",\n                    text: \"\",\n                    onClick: $setup.close\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[9] || (_cache[9] = [_createTextVNode(\"キャンセル\")]);\n                    }),\n                    _: 1 /* STABLE */,\n                    __: [9]\n                  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n                    color: \"blue darken-1\",\n                    text: \"\",\n                    onClick: $setup.save\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[10] || (_cache[10] = [_createTextVNode(\"保存\")]);\n                    }),\n                    _: 1 /* STABLE */,\n                    __: [10]\n                  }, 8 /* PROPS */, [\"onClick\"])];\n                }),\n                _: 1 /* STABLE */\n              })];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\"])];\n    }),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","_createVNode","_component_v_row","_component_v_col","cols","_component_v_card","_component_v_card_title","$setup","memo","title","_component_v_spacer","_component_v_chip","color","getCategoryColor","category","_component_v_btn","icon","onClick","editMemo","_component_v_icon","_cache","deleteMemo","_component_v_card_text","_createElementVNode","_hoisted_1","_toDisplayString","formatDate","createdAt","_hoisted_2","updatedAt","_hoisted_3","content","_component_v_card_actions","text","$event","_ctx","$router","push","_component_v_dialog","dialog","_component_v_text_field","editedItem","label","_component_v_textarea","_component_v_select","items","categories","close","save"],"sources":["/Users/dai/Documents/Memo-App/src/frontend/src/views/MemoDetail.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-card>\n          <v-card-title class=\"text-h5\">\n            {{ memo.title }}\n            <v-spacer></v-spacer>\n            <v-chip\n              :color=\"getCategoryColor(memo.category)\"\n              text-color=\"white\"\n              class=\"mr-2\"\n            >\n              {{ memo.category }}\n            </v-chip>\n            <v-btn\n              icon\n              @click=\"editMemo\"\n            >\n              <v-icon>mdi-pencil</v-icon>\n            </v-btn>\n            <v-btn\n              icon\n              @click=\"deleteMemo\"\n            >\n              <v-icon>mdi-delete</v-icon>\n            </v-btn>\n          </v-card-title>\n\n          <v-card-text>\n            <div class=\"text-subtitle-2 mb-2\">\n              作成日: {{ formatDate(memo.createdAt) }}\n            </div>\n            <div class=\"text-subtitle-2 mb-4\">\n              更新日: {{ formatDate(memo.updatedAt) }}\n            </div>\n            <div class=\"text-body-1 white-space-pre-wrap\">\n              {{ memo.content }}\n            </div>\n          </v-card-text>\n\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"primary\"\n              text\n              @click=\"$router.push('/memos')\"\n            >\n              一覧に戻る\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n\n    <v-dialog v-model=\"dialog\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">メモ編集</span>\n        </v-card-title>\n\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field\n                  v-model=\"editedItem.title\"\n                  label=\"タイトル\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-textarea\n                  v-model=\"editedItem.content\"\n                  label=\"内容\"\n                ></v-textarea>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-select\n                  v-model=\"editedItem.category\"\n                  :items=\"categories\"\n                  label=\"カテゴリー\"\n                ></v-select>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"close\">キャンセル</v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"save\">保存</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRoute, useRouter } from 'vue-router'\n\nexport default {\n  name: 'MemoDetail',\n  setup() {\n    const store = useStore()\n    const route = useRoute()\n    const router = useRouter()\n\n    const dialog = ref(false)\n    const editedItem = ref({\n      title: '',\n      content: '',\n      category: ''\n    })\n\n    const memo = computed(() => store.getters['memo/currentMemo'])\n    const categories = computed(() => store.getters['category/allCategories'])\n\n    const getCategoryColor = (category) => {\n      const categoryObj = categories.value.find(c => c.name === category)\n      return categoryObj ? categoryObj.color : 'grey'\n    }\n\n    const formatDate = (date) => {\n      return new Date(date).toLocaleString('ja-JP')\n    }\n\n    const editMemo = () => {\n      editedItem.value = Object.assign({}, memo.value)\n      dialog.value = true\n    }\n\n    const deleteMemo = async () => {\n      if (confirm('このメモを削除してもよろしいですか？')) {\n        try {\n          await store.dispatch('memo/deleteMemo', memo.value.id)\n          router.push('/memos')\n        } catch (error) {\n          // エラー処理はグローバルエラーハンドラーで行う\n        }\n      }\n    }\n\n    const close = () => {\n      dialog.value = false\n      editedItem.value = Object.assign({}, memo.value)\n    }\n\n    const save = async () => {\n      try {\n        await store.dispatch('memo/updateMemo', {\n          id: memo.value.id,\n          ...editedItem.value\n        })\n        close()\n      } catch (error) {\n        // エラー処理はグローバルエラーハンドラーで行う\n      }\n    }\n\n    onMounted(async () => {\n      try {\n        await Promise.all([\n          store.dispatch('memo/fetchMemo', route.params.id),\n          store.dispatch('category/fetchCategories')\n        ])\n      } catch (error) {\n        // エラー処理はグローバルエラーハンドラーで行う\n      }\n    })\n\n    return {\n      memo,\n      categories,\n      dialog,\n      editedItem,\n      getCategoryColor,\n      formatDate,\n      editMemo,\n      deleteMemo,\n      close,\n      save\n    }\n  }\n}\n</script>\n\n<style scoped>\n.white-space-pre-wrap {\n  white-space: pre-wrap;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}