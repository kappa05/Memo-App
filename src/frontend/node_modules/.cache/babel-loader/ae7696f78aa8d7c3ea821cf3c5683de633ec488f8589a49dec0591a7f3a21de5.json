{"ast":null,"code":"import { ref } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'Login',\n  setup() {\n    const store = useStore();\n    const router = useRouter();\n    const form = ref(null);\n    const email = ref('');\n    const password = ref('');\n    const rules = {\n      required: value => !!value || '必須項目です',\n      email: value => {\n        const pattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        return pattern.test(value) || '有効なメールアドレスを入力してください';\n      }\n    };\n    const handleLogin = async () => {\n      const {\n        valid\n      } = await form.value.validate();\n      if (valid) {\n        try {\n          await store.dispatch('auth/login', {\n            email: email.value,\n            password: password.value\n          });\n          router.push('/memos');\n        } catch (error) {\n          // エラー処理はグローバルエラーハンドラーで行う\n        }\n      }\n    };\n    return {\n      email,\n      password,\n      rules,\n      form,\n      handleLogin\n    };\n  }\n};","map":{"version":3,"names":["ref","useStore","useRouter","name","setup","store","router","form","email","password","rules","required","value","pattern","test","handleLogin","valid","validate","dispatch","push","error"],"sources":["/Users/dai/Documents/Memo-App/src/frontend/src/views/Login.vue"],"sourcesContent":["<template>\n  <v-container class=\"fill-height\" fluid>\n    <v-row align=\"center\" justify=\"center\">\n      <v-col cols=\"12\" sm=\"8\" md=\"4\">\n        <v-card class=\"elevation-12\">\n          <v-toolbar color=\"primary\" dark flat>\n            <v-toolbar-title>ログイン</v-toolbar-title>\n          </v-toolbar>\n          <v-card-text>\n            <v-form @submit.prevent=\"handleLogin\" ref=\"form\">\n              <v-text-field\n                v-model=\"email\"\n                label=\"メールアドレス\"\n                name=\"email\"\n                prepend-icon=\"mdi-email\"\n                type=\"email\"\n                :rules=\"[rules.required, rules.email]\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"password\"\n                label=\"パスワード\"\n                name=\"password\"\n                prepend-icon=\"mdi-lock\"\n                type=\"password\"\n                :rules=\"[rules.required]\"\n              ></v-text-field>\n            </v-form>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" @click=\"handleLogin\">ログイン</v-btn>\n          </v-card-actions>\n          <v-card-text class=\"text-center\">\n            <router-link to=\"/register\">新規登録はこちら</router-link>\n            <br>\n            <router-link to=\"/forgot-password\">パスワードをお忘れの方はこちら</router-link>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\n\nexport default {\n  name: 'Login',\n  setup() {\n    const store = useStore()\n    const router = useRouter()\n    const form = ref(null)\n\n    const email = ref('')\n    const password = ref('')\n\n    const rules = {\n      required: value => !!value || '必須項目です',\n      email: value => {\n        const pattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n        return pattern.test(value) || '有効なメールアドレスを入力してください'\n      }\n    }\n\n    const handleLogin = async () => {\n      const { valid } = await form.value.validate()\n      \n      if (valid) {\n        try {\n          await store.dispatch('auth/login', {\n            email: email.value,\n            password: password.value\n          })\n          router.push('/memos')\n        } catch (error) {\n          // エラー処理はグローバルエラーハンドラーで行う\n        }\n      }\n    }\n\n    return {\n      email,\n      password,\n      rules,\n      form,\n      handleLogin\n    }\n  }\n}\n</script> "],"mappings":"AA4CA,SAASA,GAAE,QAAS,KAAI;AACxB,SAASC,QAAO,QAAS,MAAK;AAC9B,SAASC,SAAQ,QAAS,YAAW;AAErC,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIJ,QAAQ,CAAC;IACvB,MAAMK,MAAK,GAAIJ,SAAS,CAAC;IACzB,MAAMK,IAAG,GAAIP,GAAG,CAAC,IAAI;IAErB,MAAMQ,KAAI,GAAIR,GAAG,CAAC,EAAE;IACpB,MAAMS,QAAO,GAAIT,GAAG,CAAC,EAAE;IAEvB,MAAMU,KAAI,GAAI;MACZC,QAAQ,EAAEC,KAAI,IAAK,CAAC,CAACA,KAAI,IAAK,QAAQ;MACtCJ,KAAK,EAAEI,KAAI,IAAK;QACd,MAAMC,OAAM,GAAI,4BAA2B;QAC3C,OAAOA,OAAO,CAACC,IAAI,CAACF,KAAK,KAAK,qBAAoB;MACpD;IACF;IAEA,MAAMG,WAAU,GAAI,MAAAA,CAAA,KAAY;MAC9B,MAAM;QAAEC;MAAM,IAAI,MAAMT,IAAI,CAACK,KAAK,CAACK,QAAQ,CAAC;MAE5C,IAAID,KAAK,EAAE;QACT,IAAI;UACF,MAAMX,KAAK,CAACa,QAAQ,CAAC,YAAY,EAAE;YACjCV,KAAK,EAAEA,KAAK,CAACI,KAAK;YAClBH,QAAQ,EAAEA,QAAQ,CAACG;UACrB,CAAC;UACDN,MAAM,CAACa,IAAI,CAAC,QAAQ;QACtB,EAAE,OAAOC,KAAK,EAAE;UACd;QAAA;MAEJ;IACF;IAEA,OAAO;MACLZ,KAAK;MACLC,QAAQ;MACRC,KAAK;MACLH,IAAI;MACJQ;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}