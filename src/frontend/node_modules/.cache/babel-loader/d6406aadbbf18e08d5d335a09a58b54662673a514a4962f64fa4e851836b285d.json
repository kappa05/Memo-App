{"ast":null,"code":"import _defineProperty from \"/Users/dai/Documents/Memo-App/src/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"text-h5\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_v_spacer = _resolveComponent(\"v-spacer\");\n  var _component_v_btn = _resolveComponent(\"v-btn\");\n  var _component_v_card_title = _resolveComponent(\"v-card-title\");\n  var _component_v_chip = _resolveComponent(\"v-chip\");\n  var _component_v_icon = _resolveComponent(\"v-icon\");\n  var _component_v_data_table = _resolveComponent(\"v-data-table\");\n  var _component_v_card = _resolveComponent(\"v-card\");\n  var _component_v_col = _resolveComponent(\"v-col\");\n  var _component_v_row = _resolveComponent(\"v-row\");\n  var _component_v_text_field = _resolveComponent(\"v-text-field\");\n  var _component_v_color_picker = _resolveComponent(\"v-color-picker\");\n  var _component_v_container = _resolveComponent(\"v-container\");\n  var _component_v_card_text = _resolveComponent(\"v-card-text\");\n  var _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  var _component_v_dialog = _resolveComponent(\"v-dialog\");\n  return _openBlock(), _createBlock(_component_v_container, null, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_v_row, null, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_v_col, {\n            cols: \"12\"\n          }, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_v_card, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_v_card_title, null, {\n                    \"default\": _withCtx(function () {\n                      return [_cache[4] || (_cache[4] = _createTextVNode(\" カテゴリー管理 \")), _createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n                        color: \"primary\",\n                        dark: \"\",\n                        \"class\": \"mb-2\",\n                        onClick: $setup.createCategory\n                      }, {\n                        \"default\": _withCtx(function () {\n                          return _cache[3] || (_cache[3] = [_createTextVNode(\" 新規カテゴリー作成 \")]);\n                        }),\n                        _: 1 /* STABLE */,\n                        __: [3]\n                      }, 8 /* PROPS */, [\"onClick\"])];\n                    }),\n                    _: 1 /* STABLE */,\n                    __: [4]\n                  }), _createVNode(_component_v_data_table, {\n                    headers: $setup.headers,\n                    items: $setup.categories,\n                    loading: $setup.loading,\n                    \"class\": \"elevation-1\"\n                  }, _defineProperty(_defineProperty(_defineProperty({}, \"item.color\", _withCtx(function (_ref) {\n                    var item = _ref.item;\n                    return [_createVNode(_component_v_chip, {\n                      color: item.color,\n                      \"text-color\": \"white\"\n                    }, {\n                      \"default\": _withCtx(function () {\n                        return [_createTextVNode(_toDisplayString(item.color), 1 /* TEXT */)];\n                      }),\n                      _: 2 /* DYNAMIC */\n                    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"color\"])];\n                  })), \"item.actions\", _withCtx(function (_ref2) {\n                    var item = _ref2.item;\n                    return [_createVNode(_component_v_icon, {\n                      small: \"\",\n                      \"class\": \"mr-2\",\n                      onClick: function onClick($event) {\n                        return $setup.editCategory(item);\n                      }\n                    }, {\n                      \"default\": _withCtx(function () {\n                        return _cache[5] || (_cache[5] = [_createTextVNode(\" mdi-pencil \")]);\n                      }),\n                      _: 2 /* DYNAMIC */,\n                      __: [5]\n                    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_v_icon, {\n                      small: \"\",\n                      onClick: function onClick($event) {\n                        return $setup.deleteCategory(item);\n                      }\n                    }, {\n                      \"default\": _withCtx(function () {\n                        return _cache[6] || (_cache[6] = [_createTextVNode(\" mdi-delete \")]);\n                      }),\n                      _: 2 /* DYNAMIC */,\n                      __: [6]\n                    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])];\n                  })), \"_\", 2), 1032 /* PROPS, DYNAMIC_SLOTS */, [\"headers\", \"items\", \"loading\"])];\n                }),\n                _: 1 /* STABLE */\n              })];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_v_dialog, {\n        modelValue: $setup.dialog,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n          return $setup.dialog = $event;\n        }),\n        \"max-width\": \"500px\"\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createVNode(_component_v_card, null, {\n            \"default\": _withCtx(function () {\n              return [_createVNode(_component_v_card_title, null, {\n                \"default\": _withCtx(function () {\n                  return [_createElementVNode(\"span\", _hoisted_1, _toDisplayString($setup.formTitle), 1 /* TEXT */)];\n                }),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_v_card_text, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_v_container, null, {\n                    \"default\": _withCtx(function () {\n                      return [_createVNode(_component_v_row, null, {\n                        \"default\": _withCtx(function () {\n                          return [_createVNode(_component_v_col, {\n                            cols: \"12\"\n                          }, {\n                            \"default\": _withCtx(function () {\n                              return [_createVNode(_component_v_text_field, {\n                                modelValue: $setup.editedItem.name,\n                                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n                                  return $setup.editedItem.name = $event;\n                                }),\n                                label: \"カテゴリー名\"\n                              }, null, 8 /* PROPS */, [\"modelValue\"])];\n                            }),\n                            _: 1 /* STABLE */\n                          }), _createVNode(_component_v_col, {\n                            cols: \"12\"\n                          }, {\n                            \"default\": _withCtx(function () {\n                              return [_createVNode(_component_v_color_picker, {\n                                modelValue: $setup.editedItem.color,\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n                                  return $setup.editedItem.color = $event;\n                                }),\n                                mode: \"hex\",\n                                \"hide-inputs\": \"\",\n                                \"class\": \"mx-auto\"\n                              }, null, 8 /* PROPS */, [\"modelValue\"])];\n                            }),\n                            _: 1 /* STABLE */\n                          })];\n                        }),\n                        _: 1 /* STABLE */\n                      })];\n                    }),\n                    _: 1 /* STABLE */\n                  })];\n                }),\n                _: 1 /* STABLE */\n              }), _createVNode(_component_v_card_actions, null, {\n                \"default\": _withCtx(function () {\n                  return [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n                    color: \"blue darken-1\",\n                    text: \"\",\n                    onClick: $setup.close\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[7] || (_cache[7] = [_createTextVNode(\"キャンセル\")]);\n                    }),\n                    _: 1 /* STABLE */,\n                    __: [7]\n                  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_v_btn, {\n                    color: \"blue darken-1\",\n                    text: \"\",\n                    onClick: $setup.save\n                  }, {\n                    \"default\": _withCtx(function () {\n                      return _cache[8] || (_cache[8] = [_createTextVNode(\"保存\")]);\n                    }),\n                    _: 1 /* STABLE */,\n                    __: [8]\n                  }, 8 /* PROPS */, [\"onClick\"])];\n                }),\n                _: 1 /* STABLE */\n              })];\n            }),\n            _: 1 /* STABLE */\n          })];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\"])];\n    }),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_container","_createVNode","_component_v_row","_component_v_col","cols","_component_v_card","_component_v_card_title","_component_v_spacer","_component_v_btn","color","dark","onClick","$setup","createCategory","_cache","_component_v_data_table","headers","items","categories","loading","_withCtx","_ref","item","_component_v_chip","_ref2","_component_v_icon","small","$event","editCategory","deleteCategory","_component_v_dialog","dialog","_createElementVNode","_hoisted_1","_toDisplayString","formTitle","_component_v_card_text","_component_v_text_field","editedItem","name","label","_component_v_color_picker","mode","_component_v_card_actions","text","close","save"],"sources":["/Users/dai/Documents/Memo-App/src/frontend/src/views/CategoryList.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-card>\n          <v-card-title>\n            カテゴリー管理\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"primary\"\n              dark\n              class=\"mb-2\"\n              @click=\"createCategory\"\n            >\n              新規カテゴリー作成\n            </v-btn>\n          </v-card-title>\n\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"categories\"\n            :loading=\"loading\"\n            class=\"elevation-1\"\n          >\n            <template v-slot:[`item.color`]=\"{ item }\">\n              <v-chip\n                :color=\"item.color\"\n                text-color=\"white\"\n              >\n                {{ item.color }}\n              </v-chip>\n            </template>\n\n            <template v-slot:[`item.actions`]=\"{ item }\">\n              <v-icon\n                small\n                class=\"mr-2\"\n                @click=\"editCategory(item)\"\n              >\n                mdi-pencil\n              </v-icon>\n              <v-icon\n                small\n                @click=\"deleteCategory(item)\"\n              >\n                mdi-delete\n              </v-icon>\n            </template>\n          </v-data-table>\n        </v-card>\n      </v-col>\n    </v-row>\n\n    <v-dialog v-model=\"dialog\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">{{ formTitle }}</span>\n        </v-card-title>\n\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field\n                  v-model=\"editedItem.name\"\n                  label=\"カテゴリー名\"\n                ></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-color-picker\n                  v-model=\"editedItem.color\"\n                  mode=\"hex\"\n                  hide-inputs\n                  class=\"mx-auto\"\n                ></v-color-picker>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"close\">キャンセル</v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"save\">保存</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\n\nexport default {\n  name: 'CategoryList',\n  setup() {\n    const store = useStore()\n\n    const dialog = ref(false)\n    const editedIndex = ref(-1)\n    const editedItem = ref({\n      name: '',\n      color: '#000000'\n    })\n    const defaultItem = {\n      name: '',\n      color: '#000000'\n    }\n\n    const headers = [\n      { text: 'カテゴリー名', value: 'name' },\n      { text: '色', value: 'color' },\n      { text: '操作', value: 'actions', sortable: false }\n    ]\n\n    const loading = computed(() => store.getters['category/isLoading'])\n    const categories = computed(() => store.getters['category/allCategories'])\n\n    const formTitle = computed(() => {\n      return editedIndex.value === -1 ? '新規カテゴリー' : 'カテゴリー編集'\n    })\n\n    const createCategory = () => {\n      editedIndex.value = -1\n      editedItem.value = Object.assign({}, defaultItem)\n      dialog.value = true\n    }\n\n    const editCategory = (item) => {\n      editedIndex.value = categories.value.indexOf(item)\n      editedItem.value = Object.assign({}, item)\n      dialog.value = true\n    }\n\n    const deleteCategory = async (item) => {\n      if (confirm('このカテゴリーを削除してもよろしいですか？')) {\n        try {\n          await store.dispatch('category/deleteCategory', item.id)\n        } catch (error) {\n          // エラー処理はグローバルエラーハンドラーで行う\n        }\n      }\n    }\n\n    const close = () => {\n      dialog.value = false\n      editedItem.value = Object.assign({}, defaultItem)\n      editedIndex.value = -1\n    }\n\n    const save = async () => {\n      try {\n        if (editedIndex.value > -1) {\n          await store.dispatch('category/updateCategory', {\n            id: editedItem.value.id,\n            ...editedItem.value\n          })\n        } else {\n          await store.dispatch('category/createCategory', editedItem.value)\n        }\n        close()\n      } catch (error) {\n        // エラー処理はグローバルエラーハンドラーで行う\n      }\n    }\n\n    onMounted(async () => {\n      try {\n        await store.dispatch('category/fetchCategories')\n      } catch (error) {\n        // エラー処理はグローバルエラーハンドラーで行う\n      }\n    })\n\n    return {\n      dialog,\n      editedIndex,\n      editedItem,\n      headers,\n      loading,\n      categories,\n      formTitle,\n      createCategory,\n      editCategory,\n      deleteCategory,\n      close,\n      save\n    }\n  }\n}\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}